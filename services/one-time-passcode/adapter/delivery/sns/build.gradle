plugins {
    id 'org.unbroken-dome.test-sets' version "${testSetsPluginVersion}"
    id 'java-test-fixtures'
}

testSets {
    integrationTest
}

dependencies {
    api "com.amazonaws:aws-java-sdk-sns:${awsSdkVersion}"
    api project(':one-time-passcode-entities')

    implementation project(':one-time-passcode-use-cases')
    implementation project(':use-cases-utils')
    implementation project(':aws-system-properties')

    testImplementation testFixtures(project(':one-time-passcode-entities'))
    testImplementation testFixtures(project(':verification-context-entities'))

    testFixturesApi "org.testcontainers:junit-jupiter:${testContainersVersion}"
    testFixturesCompileOnly "org.projectlombok:lombok:${lombokVersion}"
    testFixturesAnnotationProcessor "org.projectlombok:lombok:${lombokVersion}"
}

integrationTest {
    testLogging {
        events "failed"
        exceptionFormat "full"
    }
}